{% extends "layout.html" %}

{% block title %}
    Portfolio of stocks
{% endblock %}

{% block main %}
  <h1 class="portfolio">Your portfolio</h1>
<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Symbol</th>
      <th scope="col">Name</th>
      <th scope="col">Shares</th>
      <th scope="col">Price</th>
      <th scope="col">Total</th>
    </tr>
  </thead>
  <tfoot>
    <tr>
      <td colspan="4"></td>
      <td style="font-weight:bold">{{total | usd }}</td>
    </tr>
  </tfoot>
  <tbody>
    {% for dict in stocks %}
    <tr>
      <td>{{dict["stock"]}}</td>
      <td>{{dict["name"]}}</td>
      <td>{{dict["SUM(shares)"]}}</td>
      <td>{{dict["price"] | usd}}</td>
      <td>{{(dict["price"] * dict["SUM(shares)"]) | usd}}</td>
    </tr>
  {% endfor %}
  <tr>
      <td colspan="4">CASH</td>
      <td>{{balance | usd }}</td>
    </tr>
  </tbody>
</table>
{% endblock %}